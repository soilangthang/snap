// ============================================
// Multi-language Support (i18n)
// Languages: English, Hindi, Vietnamese, Indonesian
// ============================================

const translations = {
    en: {
        siteTitle: "TikTok Downloader",
        siteSubtitle: "Download HD Videos & MP3 - Free & Fast",
        pasteUrl: "Paste TikTok video URL here...",
        pasteLink: "Paste Link",
        downloadMP4: "Download MP4",
        downloadMP3: "Download MP3",
        downloading: "Downloading...",
        downloadSD: "Download SD",
        downloadHD: "Download HD",
        downloadOther: "Download Another",
        popularFeatures: "Popular Features",
        feature1Title: "HD Quality",
        feature1Desc: "Download videos in highest quality available",
        feature2Title: "MP3 Converter",
        feature2Desc: "Extract audio from TikTok videos",
        feature3Title: "No Watermark",
        feature3Desc: "Clean videos without TikTok logo",
        feature4Title: "Fast Download",
        feature4Desc: "Quick and secure downloading",
        trendingDownloads: "Trending Downloads",
        trendingPlaceholder: "Popular videos will appear here",
        otherTools: "Other Tools",
        tool1Title: "Video Converter",
        tool1Desc: "Convert between video formats",
        tool2Title: "Video Trimmer",
        tool2Desc: "Cut and edit videos online",
        tool3Title: "Audio Extractor",
        tool3Desc: "Extract audio from any video",
        faqTitle: "Frequently Asked Questions",
        faq1Q: "How to download TikTok videos?",
        faq1A: "Copy the TikTok video URL, paste it above, and click Download MP4 or Download MP3 button.",
        faq2Q: "Is it free to use?",
        faq2A: "Yes, completely free. No registration or payment required.",
        faq3Q: "Will videos have watermark?",
        faq3A: "No, all downloaded videos are watermark-free.",
        faq4Q: "Can I download MP3 from TikTok?",
        faq4A: "Yes, click the Download MP3 button to extract audio from TikTok videos.",
        footerText: "© 2024 TikTok Downloader. All rights reserved.",
        privacy: "Privacy Policy",
        terms: "Terms of Service"
    },
    hi: {
        siteTitle: "TikTok डाउनलोडर",
        siteSubtitle: "HD वीडियो और MP3 डाउनलोड करें - मुफ्त और तेज़",
        pasteUrl: "TikTok वीडियो URL यहाँ पेस्ट करें...",
        pasteLink: "लिंक पेस्ट करें",
        downloadMP4: "MP4 डाउनलोड करें",
        downloadMP3: "MP3 डाउनलोड करें",
        downloading: "डाउनलोड हो रहा है...",
        downloadSD: "SD डाउनलोड करें",
        downloadHD: "HD डाउनलोड करें",
        downloadOther: "अन्य डाउनलोड करें",
        popularFeatures: "लोकप्रिय सुविधाएं",
        feature1Title: "HD गुणवत्ता",
        feature1Desc: "उच्चतम गुणवत्ता में वीडियो डाउनलोड करें",
        feature2Title: "MP3 कन्वर्टर",
        feature2Desc: "TikTok वीडियो से ऑडियो निकालें",
        feature3Title: "बिना वॉटरमार्क",
        feature3Desc: "TikTok लोगो के बिना साफ वीडियो",
        feature4Title: "तेज़ डाउनलोड",
        feature4Desc: "त्वरित और सुरक्षित डाउनलोडिंग",
        trendingDownloads: "ट्रेंडिंग डाउनलोड",
        trendingPlaceholder: "लोकप्रिय वीडियो यहाँ दिखाई देंगे",
        otherTools: "अन्य उपकरण",
        tool1Title: "वीडियो कन्वर्टर",
        tool1Desc: "वीडियो प्रारूपों के बीच कन्वर्ट करें",
        tool2Title: "वीडियो ट्रिमर",
        tool2Desc: "ऑनलाइन वीडियो काटें और संपादित करें",
        tool3Title: "ऑडियो एक्सट्रैक्टर",
        tool3Desc: "किसी भी वीडियो से ऑडियो निकालें",
        faqTitle: "अक्सर पूछे जाने वाले प्रश्न",
        faq1Q: "TikTok वीडियो कैसे डाउनलोड करें?",
        faq1A: "TikTok वीडियो URL कॉपी करें, ऊपर पेस्ट करें, और Download MP4 या Download MP3 बटन पर क्लिक करें।",
        faq2Q: "क्या यह मुफ़्त है?",
        faq2A: "हाँ, पूरी तरह से मुफ़्त। कोई पंजीकरण या भुगतान आवश्यक नहीं।",
        faq3Q: "क्या वीडियो में वॉटरमार्क होगा?",
        faq3A: "नहीं, सभी डाउनलोड किए गए वीडियो वॉटरमार्क-मुक्त हैं।",
        faq4Q: "क्या मैं TikTok से MP3 डाउनलोड कर सकता हूँ?",
        faq4A: "हाँ, TikTok वीडियो से ऑडियो निकालने के लिए Download MP3 बटन पर क्लिक करें।",
        footerText: "© 2024 TikTok डाउनलोडर। सभी अधिकार सुरक्षित।",
        privacy: "गोपनीयता नीति",
        terms: "सेवा की शर्तें"
    },
    vi: {
        siteTitle: "Tải Video TikTok",
        siteSubtitle: "Tải Video HD & MP3 - Miễn Phí & Nhanh",
        pasteUrl: "Dán link video TikTok vào đây...",
        pasteLink: "Dán Link",
        downloadMP4: "Tải MP4",
        downloadMP3: "Tải MP3",
        downloading: "Đang tải xuống...",
        downloadSD: "Tải SD",
        downloadHD: "Tải HD",
        downloadOther: "Tải Video Khác",
        popularFeatures: "Tính Năng Phổ Biến",
        feature1Title: "Chất Lượng HD",
        feature1Desc: "Tải video ở chất lượng cao nhất",
        feature2Title: "Chuyển Đổi MP3",
        feature2Desc: "Trích xuất audio từ video TikTok",
        feature3Title: "Không Watermark",
        feature3Desc: "Video sạch không có logo TikTok",
        feature4Title: "Tải Nhanh",
        feature4Desc: "Tải xuống nhanh chóng và an toàn",
        trendingDownloads: "Video Đang Thịnh Hành",
        trendingPlaceholder: "Video phổ biến sẽ hiển thị ở đây",
        otherTools: "Công Cụ Khác",
        tool1Title: "Chuyển Đổi Video",
        tool1Desc: "Chuyển đổi giữa các định dạng video",
        tool2Title: "Cắt Video",
        tool2Desc: "Cắt và chỉnh sửa video trực tuyến",
        tool3Title: "Trích Xuất Audio",
        tool3Desc: "Trích xuất audio từ bất kỳ video nào",
        faqTitle: "Câu Hỏi Thường Gặp",
        faq1Q: "Làm thế nào để tải video TikTok?",
        faq1A: "Sao chép link video TikTok, dán vào ô trên, và nhấn nút Tải MP4 hoặc Tải MP3.",
        faq2Q: "Có miễn phí không?",
        faq2A: "Có, hoàn toàn miễn phí. Không cần đăng ký hay thanh toán.",
        faq3Q: "Video có watermark không?",
        faq3A: "Không, tất cả video tải về đều không có watermark.",
        faq4Q: "Tôi có thể tải MP3 từ TikTok không?",
        faq4A: "Có, nhấn nút Tải MP3 để trích xuất audio từ video TikTok.",
        footerText: "© 2024 Tải Video TikTok. Tất cả quyền được bảo lưu.",
        privacy: "Chính Sách Bảo Mật",
        terms: "Điều Khoản Sử Dụng"
    },
    id: {
        siteTitle: "Pengunduh TikTok",
        siteSubtitle: "Unduh Video HD & MP3 - Gratis & Cepat",
        pasteUrl: "Tempel URL video TikTok di sini...",
        pasteLink: "Tempel Tautan",
        downloadMP4: "Unduh MP4",
        downloadMP3: "Unduh MP3",
        downloading: "Mengunduh...",
        downloadSD: "Unduh SD",
        downloadHD: "Unduh HD",
        downloadOther: "Unduh Lainnya",
        popularFeatures: "Fitur Populer",
        feature1Title: "Kualitas HD",
        feature1Desc: "Unduh video dengan kualitas tertinggi",
        feature2Title: "Konverter MP3",
        feature2Desc: "Ekstrak audio dari video TikTok",
        feature3Title: "Tanpa Watermark",
        feature3Desc: "Video bersih tanpa logo TikTok",
        feature4Title: "Unduh Cepat",
        feature4Desc: "Unduhan cepat dan aman",
        trendingDownloads: "Unduhan Trending",
        trendingPlaceholder: "Video populer akan muncul di sini",
        otherTools: "Alat Lainnya",
        tool1Title: "Konverter Video",
        tool1Desc: "Konversi antar format video",
        tool2Title: "Pemotong Video",
        tool2Desc: "Potong dan edit video online",
        tool3Title: "Ekstraktor Audio",
        tool3Desc: "Ekstrak audio dari video apa pun",
        faqTitle: "Pertanyaan yang Sering Diajukan",
        faq1Q: "Bagaimana cara mengunduh video TikTok?",
        faq1A: "Salin URL video TikTok, tempelkan di atas, dan klik tombol Unduh MP4 atau Unduh MP3.",
        faq2Q: "Apakah gratis digunakan?",
        faq2A: "Ya, sepenuhnya gratis. Tidak perlu pendaftaran atau pembayaran.",
        faq3Q: "Apakah video akan memiliki watermark?",
        faq3A: "Tidak, semua video yang diunduh bebas watermark.",
        faq4Q: "Bisakah saya mengunduh MP3 dari TikTok?",
        faq4A: "Ya, klik tombol Unduh MP3 untuk mengekstrak audio dari video TikTok.",
        footerText: "© 2024 Pengunduh TikTok. Hak cipta dilindungi.",
        privacy: "Kebijakan Privasi",
        terms: "Ketentuan Layanan"
    }
};

// Current language
let currentLang = localStorage.getItem('language') || 'en';

// Language names for display
const langNames = {
    en: 'English',
    hi: 'हिंदी',
    vi: 'Tiếng Việt',
    id: 'Bahasa Indonesia'
};

// Initialize i18n
function initI18n() {
    // Set up language selector
    const langBtn = document.getElementById('langBtn');
    const langDropdown = document.getElementById('langDropdown');
    const currentLangText = document.getElementById('currentLang');
    
    if (langBtn && currentLangText) {
        currentLangText.textContent = langNames[currentLang] || 'English';
    }
    
    // Toggle dropdown
    if (langBtn && langDropdown) {
        langBtn.addEventListener('click', (e) => {
            e.stopPropagation();
            langDropdown.classList.toggle('active');
        });
        
        // Close dropdown when clicking outside
        document.addEventListener('click', () => {
            langDropdown.classList.remove('active');
        });
        
        // Language option clicks
        const langOptions = document.querySelectorAll('.lang-option');
        langOptions.forEach(option => {
            option.addEventListener('click', (e) => {
                e.stopPropagation();
                const lang = option.dataset.lang;
                setLanguage(lang);
                langDropdown.classList.remove('active');
            });
        });
    }
    
    // Apply translations
    applyTranslations();
}

// Set language
function setLanguage(lang) {
    if (translations[lang]) {
        currentLang = lang;
        localStorage.setItem('language', lang);
        
        // Update button text
        const currentLangText = document.getElementById('currentLang');
        if (currentLangText) {
            currentLangText.textContent = langNames[lang] || lang;
        }
        
        // Update HTML lang attribute
        document.documentElement.lang = lang;
        
        // Apply translations
        applyTranslations();
    }
}

// Apply translations
function applyTranslations() {
    const elements = document.querySelectorAll('[data-i18n]');
    elements.forEach(element => {
        const key = element.dataset.i18n;
        if (translations[currentLang] && translations[currentLang][key]) {
            element.textContent = translations[currentLang][key];
        }
    });
    
    // Handle placeholders
    const placeholders = document.querySelectorAll('[data-i18n-placeholder]');
    placeholders.forEach(element => {
        const key = element.dataset.i18nPlaceholder;
        if (translations[currentLang] && translations[currentLang][key]) {
            element.placeholder = translations[currentLang][key];
        }
    });
}

// Get translation
function t(key) {
    return translations[currentLang] && translations[currentLang][key] 
        ? translations[currentLang][key] 
        : translations.en[key] || key;
}

// Initialize on DOM ready
if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', initI18n);
} else {
    initI18n();
}

